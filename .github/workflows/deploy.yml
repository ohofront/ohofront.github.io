build:
  runs-on: ubuntu-latest

  steps:
    - name: ğŸ“‚ Checkout Repository
      uses: actions/checkout@v4

    - name: âš™ï¸ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: 20
        cache: npm

    - name: ğŸ“¦ Install Dependencies
      run: npm ci

    - name: ğŸ”¨ Build Project (Vite ë¹Œë“œ ì‹¤í–‰)
      run: npm run build

    - name: ğŸ“„ Create CNAME file (Custom Domain ì„¤ì •)
      run: echo "www.ohorang.com" > dist/CNAME

    - name: ğŸš€ Upload Artifact (GitHub Pages ë°°í¬í•  íŒŒì¼ ì—…ë¡œë“œ)
      uses: actions/upload-artifact@v4
      with:
        path: ./dist

deploy:
  needs: build
  runs-on: ubuntu-latest
  environment:
    name: github-pages
    url: ${{ steps.deployment.outputs.page_url }}

  steps:
    - name: ğŸš€ Download Artifact (ë¹Œë“œëœ íŒŒì¼ ë‹¤ìš´ë¡œë“œ)
      uses: actions/download-artifact@v4
      with:
        path: ./dist

    - name: ğŸš€ Deploy to GitHub Pages (GitHub Actionsì„ í†µí•´ ë°°í¬)
      id: deployment
      uses: actions/deploy-pages@v2
